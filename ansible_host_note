- Chạy lần lượt n host 1 lần
 Sử dụng directive serial

 - name: upgrade packages on servers behind load balancer
    hosts: myhosts
    serial: 1
    tasks:
 Để xác định số lần fail ansible sẽ dừng lại sử dụng directive: max_fail_percentage
 - name: upgrade packages on servers behind load balancer
    hosts: myhosts
    serial: 1
    max_fail_percentage: 25
 Trong tường hợp có 4 node , nếu 1 host fail thì sẽ không dừng lại, nếu 2 node fail sẽ dừng lại 

 - Chạy chỉ 1 lần
   - name: run the database migrations
    command: /opt/run_migrations
    run_once: true
    
    Hoặc chạy local_cation nếu muốn chạy local_task chỉ 1 lần
    - name: run the task locally, only once
    local_action: command /opt/my-custom-command
    run_once: true

- Xử lý khi behavior là changed hoặc failed 
    Đặt được khi nào thì trạng thái là changed, khi nào là failed
    - name: initialize the database
        django_manage:
        command: createdb --noinput --nodata
            app_path: "{{ proj_path }}"
            virtualenv: "{{ venv_path }}"
        register: result
        changed_when: not result.failed and "Creating tables" in result.out
        failed_when: result.failed and "Database already created" not in result.msg
    DB là changed khi result k phải là failed và result.out có dòng Creating tables
    DB là failed khi result là failed và không có chuỗi "Database already created" trong result.out

- Lấy ip từ host 
    Với variable {{ ansible_eth1.ipv4.address }} lấy được địa chỉ ipv4 của eth1 

- 
